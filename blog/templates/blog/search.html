{% extends "blog/base.html" %}
{% load static %}
{% block content %}
<section class="banner-area">
    <section class="banner-area search relative">
        <div class="container">
            <div class="feature-wrapper pt-5 pb-5 mt-5">
                <div class="feature-wrapper pt-5 pb-5 mt-5"></div>
                <div class="banner-content col-lg-8 col-md-12">
                    <h4 class="text-white text-uppercase">Find recipes you can make right now</h4>
                    <h1>
                        SEARCH PAGE
                    </h1>
                </div>
                <div class="feature-wrapper pt-5 pb-5 mt-3"></div>
            </div>
        </div>
    </section>
</section>
<!-- End banner Area -->

<section class="about-generic-area section-gap">


    <div class="container">
        <h3 class="mb-30">Choose ingredients</h3>
        <div class="row">
            <div class="col-md-4">
                <form action="" method="post">
                    <div class="single-defination">

                        <div class="ScrollStyle">
                            {% for item in ingredients_form %}
                            <button class="accordion" type="button">
                                <img src="/static/img/icons/{{item.label}}.png" width="50" height="50">
                                {{ item.label }}
                            </button>

                            <div class="panel">
                                <div class="container">
                                    {% for item2 in item %}
                                    <div class="form-check-inline">
                                        {% csrf_token %}
                                        {{ item2 }}
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <br>
                        <br>
                    </div>


                    <!--<form action="" method="POST">-->
                    <!--{% for item in filterTypes_form %}-->
                    <!--<div class="row">-->
                    <!--<h4 class="mb-10">Select {{ item.label }}</h4>-->
                    <!--<div class="default-select" id="default-select">-->
                    <!--{% csrf_token %}-->
                    <!--<select class="form-control" id="inputState" style="display: none;" name="{{item.name}}">-->
                    <!--{% for a,b in item.field.choices %}-->
                    <!--{% with item.label as d %}-->
                    <!--{% if d == 'pescatarian' %}-->
                    <!--<option selected value="{{ a }}">{{ b }}&#45;&#45;&#45;&#45;</option>-->
                    <!--{%debug%}-->
                    <!--{% else %}-->
                    <!--<option value="{{ a }}">{{ b }}-</option>-->
                    <!--{% endif %}-->
                    <!--{% endwith %}-->
                    <!--{% endfor %}-->
                    <!--</select>-->

                    <!--</div>-->
                    <!--</div>-->
                    <!--{% endfor %}-->
                    <!--<input type="submit" class="genric-btn primary small" value="Filter">-->
                    <!--</form>-->
                </form>
            </div>


            <div class="col-md-8">
                <div class="row">
                    <div class="container">
                        <form action="" method="post">
                            <div class="row">
                                <div class="col-md-3 mt-10">
                                    <h4 class="mb-10">Select DIET </h4>
                                    <div class="default-select" id="default-select">

                                        {% csrf_token %}
                                        <select class="form-control" style="display: none;" name="diet">
                                            {% for a,b in filterTypes_form.diet.field.choices %}
                                            {% if previousFilter.diet == a %}
                                            <option selected value="{{ a }}">{{ b }}</option>
                                            {% else %}
                                            <option value="{{ a }}">{{ b }}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <h4 class="mb-10 mt-10">Select Cuisine </h4>
                                    <div class="default-select" id="default-select ">

                                        {% csrf_token %}
                                        <select class="form-control" style="display: none;" name="cuisine">
                                            {% for a,b in filterTypes_form.cuisine.field.choices %}
                                            {% if previousFilter.cuisine == a %}
                                            <option selected value="{{ a }}">{{ b }}</option>
                                            {% else %}
                                            <option value="{{ a }}">{{ b }}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <h4 class="mb-10 mt-10">Select mealType </h4>
                                    <div class="default-select" id="default-select  ">

                                        {% csrf_token %}
                                        <select class="form-control" style="display: none;" name="mealType">
                                            {% for a,b in filterTypes_form.mealType.field.choices %}
                                            {% if previousFilter.mealType == a %}
                                            <option selected value="{{ a }}">{{ b }}</option>
                                            {% else %}
                                            <option value="{{ a }}">{{ b }}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <br>
                                    <br>
                                    <input type="submit" class="genric-btn primary small" value="Filter">
                                </div>
                            </div>
                        </form>
                        <div class="col-lg-12 text-center mt-4">
                            <br>
                            <br>
                            <br>
                            <h1>Already Have A Dish In Mind?</h1>
                        </div>
                        <div class="col-md-6 rounded offset-md-3 mt-5 border border-danger pt-3 ">
                            <div class="input-group mb-2 ">
                                <form action='' method='POST'>{% csrf_token %}

                                    <div class="col-md-12">
                                        <input type="text" id="autocomplete" name='title' class="form-control"
                                               placeholder="Search For Any Dish "
                                               aria-label="Recipient's username">
                                    </div>
                                    <div class="col-md-4 pt-3 px-md-3">
                                        <input type="submit" class="genric-btn primary radius" value="Find">
                                    </div>

                                </form>
                            </div>
                        </div>
                        <br>
                        <br>
                        <br>
                        <div class="row justify-content-center">
                            {% for food in matchFoods %}
                            <div class="col-lg-3 col-md-6 single-blog">
                                <div class="thumb">
                                    <a href={{food.url}}>
                                        <img class="img-fluid" src="/media/{{food.image}}" alt="">
                                    </a>
                                </div>
                                <p class="date">{{food.date_added|date}}</p>
                                <a href={{food.url}}><h4>{{food.name}}</h4></a>
                                <a href={{food.url}}>{{food.detail}}</a>
                                <div class="meta-bottom d-flex justify-content-between">
                                    <p><span class="lnr lnr-heart"></span> {{food.score}} Likes</p>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <div class="row justify-content-center">
                            {% for food,UnavailableIngridientsStr in finalSortedFoodChoose.items %}
                            <div class="col-lg-3 col-md-6 single-blog">
                                <div class="thumb">
                                    <a href={{food.url}}>
                                        <img class="img-fluid" src="/media/{{food.image}}" alt="">
                                    </a>
                                </div>
                                <p class="date">{{food.date_added|date}}</p>
                                <a href={{food.url}}><h4>{{food.name}}</h4></a>
                                <a href={{food.url}}>{{food.detail}}</a>
                                <br>
                                {% if UnavailableIngridientsStr == 'You\'ve got all the ingredients!' %}
                                <b><a href={{food.url}}><span style="color: green;">{{UnavailableIngridientsStr}}</span></a></b>
                                {% else %}
                                <b><a href={{food.url}}><span
                                        style="color: red;">{{UnavailableIngridientsStr}}</span></a></b>
                                {% endif %}
                                <div class="meta-bottom d-flex justify-content-between">
                                    <p><span class="lnr lnr-heart"></span> {{food.score}} Likes</p>
                                </div>
                            </div>
                            {% endfor %}
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}

{% block scripts %}
<script>
data =  {{foodNames|safe}}
$('#autocomplete').autocomplete({
	lookup: data
});





</script>
{% endblock %}
